<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QR Generator Pro | MD RASEL</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
    --g1:#00c6ff;
    --g2:#0072ff;
}

body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,var(--g1),var(--g2));
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    transition: background 1s ease;
}

.container{
    width:420px;
    background:rgba(255,255,255,0.1);
    backdrop-filter: blur(18px);
    border-radius:22px;
    padding:22px;
    box-shadow:0 25px 50px rgba(0,0,0,0.35);
    animation: pop 0.6s ease;
}

@keyframes pop{
    from{transform:scale(0.9);opacity:0}
    to{transform:scale(1);opacity:1}
}

.header{
    display:flex;
    align-items:center;
    gap:14px;
}

.profile{
    width:60px;
    height:60px;
    border-radius:50%;
    overflow:hidden;
    border:2px solid #fff;
    cursor:pointer;
}

.profile img{
    width:100%;
    height:100%;
    object-fit:cover;
}

input[type="file"]{display:none}

.name{
    flex:1;
    background:transparent;
    border:none;
    border-bottom:1px solid rgba(255,255,255,.6);
    color:#fff;
    font-size:18px;
    outline:none;
}

textarea{
    width:100%;
    margin-top:18px;
    padding:14px;
    border-radius:14px;
    border:none;
    font-size:16px;
    outline:none;
}

button{
    width:100%;
    margin-top:15px;
    padding:14px;
    border:none;
    border-radius:16px;
    background:linear-gradient(135deg,#ff512f,#dd2476);
    color:#fff;
    font-size:16px;
    cursor:pointer;
    transition: transform .2s, box-shadow .2s;
}

button:hover{
    transform:translateY(-2px);
    box-shadow:0 10px 25px rgba(0,0,0,.4);
}

button:active{
    transform:scale(.96);
}

.qr-preview{
    text-align:center;
    margin-top:18px;
    animation: fade 0.6s ease;
}

@keyframes fade{
    from{opacity:0;transform:scale(.9)}
    to{opacity:1;transform:scale(1)}
}

.qr-preview img{
    width:200px;
    background:#fff;
    padding:12px;
    border-radius:14px;
}

.history{
    margin-top:22px;
}

.history-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px;
    background:rgba(255,255,255,0.12);
    border-radius:12px;
    margin-bottom:10px;
    transition:.3s;
}

.history-item:hover{
    transform:scale(1.03);
    background:rgba(255,255,255,0.2);
}

.history-item img{
    width:50px;
    border-radius:8px;
}

.footer{
    text-align:center;
    font-size:12px;
    opacity:.7;
    margin-top:12px;
}
</style>
</head>

<body>

<div class="container">

<div class="header">
    <label class="profile">
        <img id="profilePic">
        <input type="file" id="profileUpload" accept="image/*">
    </label>
    <input class="name" id="userName" placeholder="Your Name">
</div>

<textarea id="qrText" rows="3" placeholder="Enter text..."></textarea>

<button onclick="generateQR()">Generate QR Code</button>
<div class="qr-preview" id="qrPreview"></div>
<button id="downloadBtn" style="display:none" onclick="downloadQR()">Download QR</button>

<div class="history" id="historyList"></div>

<div class="footer">Powered by MD RASEL</div>

</div>

<script>
let currentQR="";

function randomColor(){
    return `hsl(${Math.floor(Math.random()*360)},70%,55%)`;
}

function generateQR(){
    const text = qrText.value.trim();
    if(!text) return alert("Enter text");

    document.documentElement.style.setProperty("--g1", randomColor());
    document.documentElement.style.setProperty("--g2", randomColor());

    currentQR = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(text)}`;
    qrPreview.innerHTML = `<img src="${currentQR}">`;
    downloadBtn.style.display="block";

    saveHistory(currentQR);
    loadHistory();
}

function downloadQR(){
    const a=document.createElement("a");
    a.href=currentQR;
    a.download="qr.png";
    a.click();
}

function saveHistory(url){
    const h=JSON.parse(localStorage.getItem("qrHistory")||"[]");
    h.unshift(url);
    localStorage.setItem("qrHistory",JSON.stringify(h));
}

function loadHistory(){
    historyList.innerHTML="";
    const h=JSON.parse(localStorage.getItem("qrHistory")||"[]");
    h.forEach(u=>{
        historyList.innerHTML+=`
        <div class="history-item">
            <img src="${u}">
            <button onclick="window.open('${u}')">View</button>
        </div>`;
    });
}

profileUpload.onchange=e=>{
    const r=new FileReader();
    r.onload=()=>{profilePic.src=r.result;localStorage.setItem("pp",r.result)}
    r.readAsDataURL(e.target.files[0]);
}

userName.oninput=e=>localStorage.setItem("name",e.target.value);

window.onload=()=>{
    profilePic.src=localStorage.getItem("pp")||"https://via.placeholder.com/60";
    userName.value=localStorage.getItem("name")||"";
    loadHistory();
}
</script>

</body>
</html>
